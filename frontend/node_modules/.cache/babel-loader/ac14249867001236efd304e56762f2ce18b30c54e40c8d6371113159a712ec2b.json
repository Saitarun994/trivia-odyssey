{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Sai Tarun/Desktop/Trivia odyssey/trivia-odyssey/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Sai Tarun/Desktop/Trivia odyssey/trivia-odyssey/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _readOnlyError from\"C:/Users/Sai Tarun/Desktop/Trivia odyssey/trivia-odyssey/frontend/node_modules/@babel/runtime/helpers/esm/readOnlyError.js\";import _slicedToArray from\"C:/Users/Sai Tarun/Desktop/Trivia odyssey/trivia-odyssey/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useAuth0}from'@auth0/auth0-react';import React,{useState,useEffect}from'react';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var LoginButton=function LoginButton(){var _useAuth=useAuth0(),loginWithRedirect=_useAuth.loginWithRedirect,isAuthenticated=_useAuth.isAuthenticated;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),location=_useState2[0],setLocation=_useState2[1];var disploc=\"\";useEffect(function(){// Fetching username if the user is authenticated\n// Simulating the retrieval of location (using geolocation API)\nif(navigator.geolocation){navigator.geolocation.getCurrentPosition(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(position){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLocation(\"Latitude: \".concat(position.coords.latitude,\", Longitude: \").concat(position.coords.longitude));_context.next=3;return fetch(\"https://nominatim.openstreetmap.org/resvers?lat=\"+position.coords.latitude+\"&lon=\"+position.coords.longitude+\"&format=json\").then(function(res){return res.json();});case 3:_readOnlyError(\"disploc\");console.log(disploc);case 5:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}(),function(error){setLocation('Location not available');});}else{setLocation('Geolocation is not supported by your browser');}},[isAuthenticated]);return!isAuthenticated&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-500 p-4 text-white flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Location: \",disploc.address.city]}),/*#__PURE__*/_jsx(\"img\",{src:\"google-quiz.svg\",alt:\"Login\",className:\"h-6 w-6 mr-2\"})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold\",children:\"Trivia Odyssey\"}),/*#__PURE__*/_jsx(\"button\",{onClick:loginWithRedirect,className:\"bg-white text-blue-500 py-2 px-4 rounded\",children:\"Sign In\"})]});};export default LoginButton;","map":{"version":3,"names":["useAuth0","React","useState","useEffect","jsxs","_jsxs","jsx","_jsx","LoginButton","_useAuth","loginWithRedirect","isAuthenticated","_useState","_useState2","_slicedToArray","location","setLocation","disploc","navigator","geolocation","getCurrentPosition","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","position","wrap","_callee$","_context","prev","next","concat","coords","latitude","longitude","fetch","then","res","json","_readOnlyError","console","log","stop","_x","apply","arguments","error","className","children","address","city","src","alt","onClick"],"sources":["C:/Users/Sai Tarun/Desktop/Trivia odyssey/trivia-odyssey/frontend/src/components/LoginButton.js"],"sourcesContent":["import { useAuth0 } from '@auth0/auth0-react';\nimport React, { useState, useEffect } from 'react';\n\nconst LoginButton = () => {\n    const { loginWithRedirect, isAuthenticated } = useAuth0();\n    const [location, setLocation] = useState('');\n    const disploc =\"\";\n    useEffect(() => {\n      // Fetching username if the user is authenticated\n     \n        \n        // Simulating the retrieval of location (using geolocation API)\n        if (navigator.geolocation) {\n          navigator.geolocation.getCurrentPosition(\n            async (position) =>{\n              setLocation(`Latitude: ${position.coords.latitude}, Longitude: ${position.coords.longitude}`);\n              disploc = await fetch(\"https://nominatim.openstreetmap.org/resvers?lat=\"+position.coords.latitude+\"&lon=\"+position.coords.longitude+\"&format=json\").then((res)=> {\n              \n              return(res.json())\n\n            })\n            console.log(disploc)\n            },\n            (error) => {\n              setLocation('Location not available');\n            }\n          );\n        } else {\n          setLocation('Geolocation is not supported by your browser');\n        }\n      \n    }, [isAuthenticated]);\n\n    return (\n        !isAuthenticated && (\n            <div className=\"bg-blue-500 p-4 text-white flex items-center justify-between\">\n      <div>\n      <p>Location: {disploc.address.city}</p>\n        <img src=\"google-quiz.svg\" alt=\"Login\" className=\"h-6 w-6 mr-2\" />\n      </div>\n      <h1 className=\"text-xl font-bold\">Trivia Odyssey</h1>\n      <button onClick={loginWithRedirect} className=\"bg-white text-blue-500 py-2 px-4 rounded\">Sign In</button>\n    </div>\n        )\n    )\n}\n\nexport default LoginButton\n"],"mappings":"4mBAAA,OAASA,QAAQ,KAAQ,oBAAoB,CAC7C,MAAO,CAAAC,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,yBAEnD,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CACtB,IAAAC,QAAA,CAA+CT,QAAQ,CAAC,CAAC,CAAjDU,iBAAiB,CAAAD,QAAA,CAAjBC,iBAAiB,CAAEC,eAAe,CAAAF,QAAA,CAAfE,eAAe,CAC1C,IAAAC,SAAA,CAAgCV,QAAQ,CAAC,EAAE,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,GAAM,CAAAI,OAAO,CAAE,EAAE,CACjBd,SAAS,CAAC,UAAM,CACd;AAGE;AACA,GAAIe,SAAS,CAACC,WAAW,CAAE,CACzBD,SAAS,CAACC,WAAW,CAACC,kBAAkB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CACtC,SAAAC,QAAOC,QAAQ,SAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACbf,WAAW,cAAAgB,MAAA,CAAcN,QAAQ,CAACO,MAAM,CAACC,QAAQ,kBAAAF,MAAA,CAAgBN,QAAQ,CAACO,MAAM,CAACE,SAAS,CAAE,CAAC,CAACN,QAAA,CAAAE,IAAA,SAC9E,CAAAK,KAAK,CAAC,kDAAkD,CAACV,QAAQ,CAACO,MAAM,CAACC,QAAQ,CAAC,OAAO,CAACR,QAAQ,CAACO,MAAM,CAACE,SAAS,CAAC,cAAc,CAAC,CAACE,IAAI,CAAC,SAACC,GAAG,CAAI,CAEjK,MAAO,CAAAA,GAAG,CAACC,IAAI,CAAC,CAAC,CAEnB,CAAC,CAAC,QAAAC,cAAA,YACFC,OAAO,CAACC,GAAG,CAACzB,OAAO,CAAC,yBAAAY,QAAA,CAAAc,IAAA,MAAAlB,OAAA,GACnB,mBAAAmB,EAAA,SAAAvB,IAAA,CAAAwB,KAAA,MAAAC,SAAA,QACD,SAACC,KAAK,CAAK,CACT/B,WAAW,CAAC,wBAAwB,CAAC,CACvC,CACF,CAAC,CACH,CAAC,IAAM,CACLA,WAAW,CAAC,8CAA8C,CAAC,CAC7D,CAEJ,CAAC,CAAE,CAACL,eAAe,CAAC,CAAC,CAErB,MACI,CAACA,eAAe,eACZN,KAAA,QAAK2C,SAAS,CAAC,8DAA8D,CAAAC,QAAA,eACnF5C,KAAA,QAAA4C,QAAA,eACA5C,KAAA,MAAA4C,QAAA,EAAG,YAAU,CAAChC,OAAO,CAACiC,OAAO,CAACC,IAAI,EAAI,CAAC,cACrC5C,IAAA,QAAK6C,GAAG,CAAC,iBAAiB,CAACC,GAAG,CAAC,OAAO,CAACL,SAAS,CAAC,cAAc,CAAE,CAAC,EAC/D,CAAC,cACNzC,IAAA,OAAIyC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,cACrD1C,IAAA,WAAQ+C,OAAO,CAAE5C,iBAAkB,CAACsC,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,SAAO,CAAQ,CAAC,EACtG,CACA,CAET,CAAC,CAED,cAAe,CAAAzC,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}