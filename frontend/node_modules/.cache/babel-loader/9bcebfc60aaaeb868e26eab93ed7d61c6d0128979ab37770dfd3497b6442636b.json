{"ast":null,"code":"import _slicedToArray from\"C:/Users/Sai Tarun/Desktop/Trivia odyssey/trivia-odyssey/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';//import hotspots from \"../data/hotspots\"\nimport Card from\"./Card\";import{useEffect,useState}from'react';import axios from'axios';/*\r\nfunction Body() {\r\n  return (\r\n    <div className=\"flex flex-col md:flex-row items-center justify-center p-2\">\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n      {hotspots.map(hotspot=>(\r\n            <Card\r\n                name={hotspot.name}\r\n                ilink={hotspot.ilink}\r\n                desc={hotspot.desc}\r\n                link={hotspot.link}\r\n            />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n*/import{jsx as _jsx}from\"react/jsx-runtime\";function Body(){//? Calculating latitude and longitude\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),location=_useState2[0],setLocation=_useState2[1];useEffect(function(){// Simulating the retrieval of location (using geolocation API)\nif(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(position){setLocation(\"\".concat(position.coords.latitude,\"&\").concat(position.coords.longitude));},function(error){setLocation('Location not available');});}else{setLocation('Geolocation is not supported by your browser');}},[]);//! Sending location to server\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),hotspots=_useState4[0],setHotspots=_useState4[1];useEffect(function(){// Define the endpoint URL, replacing lat and lon with actual values\nvar endpoint=\"/api/rochester/\".concat(location);// Make the API request\naxios.get(endpoint).then(function(response){// Extract the data from the response\nvar data=response.data;console.log(data);// Set the data to the hotspots state\nsetHotspots(data);}).catch(function(error){console.error('API request error:',error);});},[]);// The empty dependency array ensures this effect runs only once\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col md:flex-row items-center justify-center p-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:hotspots.map(function(hotspot){return/*#__PURE__*/_jsx(Card,{name:hotspot.name,ilink:hotspot.ilink,desc:hotspot.desc,link:hotspot.link});})})});}export default Body;","map":{"version":3,"names":["React","Card","useEffect","useState","axios","jsx","_jsx","Body","_useState","_useState2","_slicedToArray","location","setLocation","navigator","geolocation","getCurrentPosition","position","concat","coords","latitude","longitude","error","_useState3","_useState4","hotspots","setHotspots","endpoint","get","then","response","data","console","log","catch","className","children","map","hotspot","name","ilink","desc","link"],"sources":["C:/Users/Sai Tarun/Desktop/Trivia odyssey/trivia-odyssey/frontend/src/components/Body.js"],"sourcesContent":["import React from 'react'\r\n//import hotspots from \"../data/hotspots\"\r\nimport Card from \"./Card\"\r\nimport { useEffect, useState } from 'react';\r\nimport axios from 'axios'\r\n\r\n/*\r\nfunction Body() {\r\n  return (\r\n    <div className=\"flex flex-col md:flex-row items-center justify-center p-2\">\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n      {hotspots.map(hotspot=>(\r\n            <Card\r\n                name={hotspot.name}\r\n                ilink={hotspot.ilink}\r\n                desc={hotspot.desc}\r\n                link={hotspot.link}\r\n            />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n*/\r\n\r\nfunction Body() {\r\n\r\n  //? Calculating latitude and longitude\r\n  const [location, setLocation] = useState('');\r\n\r\n  useEffect(() => {\r\n      // Simulating the retrieval of location (using geolocation API)\r\n      if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(\r\n          (position) => {\r\n            setLocation(`${position.coords.latitude}&${position.coords.longitude}`);\r\n          },\r\n          (error) => {\r\n            setLocation('Location not available');\r\n          }\r\n        );\r\n      } else {\r\n        setLocation('Geolocation is not supported by your browser');\r\n      }\r\n    }\r\n  , []);\r\n\r\n\r\n  //! Sending location to server\r\n  const [hotspots, setHotspots] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Define the endpoint URL, replacing lat and lon with actual values\r\n    const endpoint = `/api/rochester/${location}`;\r\n\r\n    // Make the API request\r\n    axios.get(endpoint)\r\n      .then(response => {\r\n        // Extract the data from the response\r\n        const data = response.data;\r\n        console.log(data);\r\n        // Set the data to the hotspots state\r\n        setHotspots(data);\r\n      })\r\n      .catch(error => {\r\n        console.error('API request error:', error);\r\n      });\r\n  }, []); // The empty dependency array ensures this effect runs only once\r\n\r\n\r\n  \r\n\r\n  return (\r\n    <div className=\"flex flex-col md:flex-row items-center justify-center p-2\">\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n      \r\n      {hotspots.map(hotspot=>(\r\n            <Card\r\n                name={hotspot.name}\r\n                ilink={hotspot.ilink}\r\n                desc={hotspot.desc}\r\n                link={hotspot.link}\r\n            />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Body\r\n"],"mappings":"uJAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB;AACA,MAAO,CAAAC,IAAI,KAAM,QAAQ,CACzB,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAjBA,OAAAC,GAAA,IAAAC,IAAA,yBAmBA,QAAS,CAAAC,IAAIA,CAAA,CAAG,CAEd;AACA,IAAAC,SAAA,CAAgCL,QAAQ,CAAC,EAAE,CAAC,CAAAM,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAE5BP,SAAS,CAAC,UAAM,CACZ;AACA,GAAIW,SAAS,CAACC,WAAW,CAAE,CACzBD,SAAS,CAACC,WAAW,CAACC,kBAAkB,CACtC,SAACC,QAAQ,CAAK,CACZJ,WAAW,IAAAK,MAAA,CAAID,QAAQ,CAACE,MAAM,CAACC,QAAQ,MAAAF,MAAA,CAAID,QAAQ,CAACE,MAAM,CAACE,SAAS,CAAE,CAAC,CACzE,CAAC,CACD,SAACC,KAAK,CAAK,CACTT,WAAW,CAAC,wBAAwB,CAAC,CACvC,CACF,CAAC,CACH,CAAC,IAAM,CACLA,WAAW,CAAC,8CAA8C,CAAC,CAC7D,CACF,CAAC,CACD,EAAE,CAAC,CAGL;AACA,IAAAU,UAAA,CAAgCnB,QAAQ,CAAC,EAAE,CAAC,CAAAoB,UAAA,CAAAb,cAAA,CAAAY,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAE5BrB,SAAS,CAAC,UAAM,CACd;AACA,GAAM,CAAAwB,QAAQ,mBAAAT,MAAA,CAAqBN,QAAQ,CAAE,CAE7C;AACAP,KAAK,CAACuB,GAAG,CAACD,QAAQ,CAAC,CAChBE,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAChB;AACA,GAAM,CAAAC,IAAI,CAAGD,QAAQ,CAACC,IAAI,CAC1BC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CACjB;AACAL,WAAW,CAACK,IAAI,CAAC,CACnB,CAAC,CAAC,CACDG,KAAK,CAAC,SAAAZ,KAAK,CAAI,CACdU,OAAO,CAACV,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAC5C,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAAE;AAKR,mBACEf,IAAA,QAAK4B,SAAS,CAAC,2DAA2D,CAAAC,QAAA,cACxE7B,IAAA,QAAK4B,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAEpEX,QAAQ,CAACY,GAAG,CAAC,SAAAC,OAAO,qBACf/B,IAAA,CAACL,IAAI,EACDqC,IAAI,CAAED,OAAO,CAACC,IAAK,CACnBC,KAAK,CAAEF,OAAO,CAACE,KAAM,CACrBC,IAAI,CAAEH,OAAO,CAACG,IAAK,CACnBC,IAAI,CAAEJ,OAAO,CAACI,IAAK,CACtB,CAAC,EACL,CAAC,CACC,CAAC,CACH,CAAC,CAEV,CACA,cAAe,CAAAlC,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}